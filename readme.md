# Шпаргалка по консольным командам Git

## Общее

Git — система контроля версий (файлов). Что-то вроде возможности сохраняться в компьютерных играх (в Git эквивалент игрового сохранения — коммит). **Важно:** добавление файлов к «сохранению» двухступенчатое: сначала добавляем файл в индекс (git add), потом «сохраняем» (git commit).

Любой файл в директории существующего репозитория может находиться или не находиться под версионным контролем (отслеживаемые и неотслеживаемые).

Отслеживаемые файлы могут быть в 3-х состояниях: неизменённые, изменённые, проиндексированные (готовые к коммиту).

### Ключ к пониманию

Ключ к пониманию концепции git — знание о «трех деревьях»:

- Рабочая директория — файловая система проекта (те файлы, с которыми вы работаете).

* Индекс — список отслеживаемых git-ом файлов и директорий, промежуточное хранилище изменений (редактирование, удаление отслеживаемых файлов).

+ Директория .git/ — все данные контроля версий этого проекта (вся история разработки: коммиты, ветки, теги и пр.).

**Коммит** — «сохранение» (хранит набор изменений, сделанный в рабочей директории с момента предыдущего коммита). Коммит неизменен, его нельзя отредактировать.

У всех коммитов (кроме самого первого) есть один или более родительских коммитов, поскольку коммиты хранят изменения от предыдущих состояний.

### Простейший цикл работ:

* Редактирование, добавление, удаление файлов (собственно, работа).
* Индексация/добавление файлов в индекс (указание для git какие изменения нужно будет закоммитить).
* Коммит (фиксация изменений).
* Возврат к шагу 1 или отход ко сну.

### Указатели:
- **HEAD** — указатель на текущий коммит или на текущую ветку (то есть, в любом случае, на коммит). Указывает на родителя коммита, который будет создан следующим.
- **ORIG_HEAD** — указатель на коммит, с которого вы только что переместили HEAD (командой git reset ..., например).
- **Ветка** (master, develop etc.) — указатель на коммит. При добавлении коммита, указатель ветки перемещается с родительского коммита на новый.
- **Теги** — простые указатели на коммиты. Не перемещаются.

## Настройки

**Перед началом работы нужно выполнить некоторые настройки:**

*`git config --global user.name "Your Name" # указать имя, которым будут подписаны коммиты`*

*`git config --global user.email "e@w.com"  # указать электропочту, которая будет в описании коммитера`*

*`git config --global core.autocrlf true # Включит в преобразование окончаний строк из CRLF в LF`*

**И**

*`git config --global core.safecrlf true`*

*`git config -global core.editor vim (nano, code, pstorm, и т.д.)`*

## Указание неотслеживаемых файлов

Файлы и директории, которые не нужно включать в репозиторий, указываются в файле **.gitignore**. Обычно это устанавливаемые зависимости **(node_modules/, bower_components/)**, готовая сборка **build/** или **dist/** и подобные, создаваемые при установке или запуске. Каждый файл или директория указываются с новой строки, возможно использование шаблонов.

# Шпаргалка по bash

## Суть

**Консоль** — удобный и быстрый инструмент управления компьютером. Вводим команду текстом, получаем результат или сообщение об ошибке с указанием в чём ошибка.

Работая с консолью, мы всегда «находимся» в какой-то папке (это указано в строке над курсором). Если там написано **~**, то мы в папке пользователя (зависит от настроек Windows, чаще всего это **C:/Users/ВАШЕИМЯПОЛЬЗОВАТЕЛЯ/)**, если там **/d/projects**, мы в папке **D:/projects.**

## Файловая система

### Просмотр содержимого папки

`pwd                     # выводит текущи путь (сокращение от PRINT WORK DIRECTORY)`

`ls                      # показать содержимое папки`

`ls -l                   # отображает расширенную информацию о файлах и папках`

`ls -a                   # то же, но показывать и скрытые файлы и папки`

`ls -a -1                # то же, но в один столбец`

`ls -hF -1 --sort=extension # показать содержимое папки «красиво, в один столбец»`

`ls build/css            # показать содержимое папки ТЕКУЩАЯ_ПАПКА/build/css`

`ls /d/projects          # показать содержимое папки D:/projects`


## Перемещение по файловой системе

*Пользователь всегда находится в какой-то папке, она (или полный путь) всегда показана до области ввода команд.*

`cd projects             # переход в папку projects, которая есть текущей папке`

`cd /d/projects          # windows: переход в папку projects, расположенную по адресу D:/projects`

`cd /c/Program\ Files    # windows: переход в C/:Program Files`

`cd .                    # текущая директория`

`cd ..                   # переход к родительской папке`

`cd ~                    # домашняя директория`

`cd -                    # переход к последней рабочей папке`

## Создание папок и файлов

`mkdir project                        # создать папку с именем «project»`

`mkdir project project/css project/js # создать несколько папок`

`mkdir -p project/{css,js}            # то же, что выше`

`touch index.html                     # создать файл`

`touch index.html css/style.css js/script.js # создать файлы (папки css/ и js/ должны уже существовать)`

Чтобы не набирать имя папки целиком, наберите первые пару символов и нажмите **Tab** — произойдет автодополнение (если нет двух папок, начинающихся с введенных символов, иначе будут показаны сами эти папки). Справедливо для любой команды.

## Копирование файлов

`cp index.html catalog.html # копирование файла index.html в тот же каталог с переименованием в catalog.html`

`cp index.html old/         # копирование файла index.html в папку old/ (все произойдет в текущей папке)`

`cp temp/ temp2/ -r         # дублирование каталога`

## Переименование или перемещение файлов

`mv index.html old              # перемещение файла в папку`

`mv index.html old/new_name.txt # перемещение файла в папку с переименованием файла`

`mv order.txt orderNew.txt      # переименовать файл`

## Удаление папок и файлов

`rm ghost.png             # удалить файл`

`rm -rf old               # удалить папку и всё из нее`




